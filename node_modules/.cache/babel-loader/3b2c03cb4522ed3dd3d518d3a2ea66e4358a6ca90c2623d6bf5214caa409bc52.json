{"ast":null,"code":"import _slicedToArray from\"/Users/peggyduggan/Development/code/phase-5/Project5-Project-cft/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";// import {useNavigate} from 'react-router-dom'\nimport{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var linkStyles2={display:\"inline-block\",height:\"50px\",width:\"200px\",// padding: \"5px\",\nmargin:\"3px 6px 2px\",background:\"red\",textDecoration:\"none\",color:\"WHITE\",textAlign:\"center\",fontSize:\"30px\"};function Logout(_ref){var onLogout=_ref.onLogout,user=_ref.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var _useState3=useState(user.username),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(user.password),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(user.email),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(user.phone),_useState10=_slicedToArray(_useState9,2),phone=_useState10[0],setPhone=_useState10[1];var _useState11=useState(user.age),_useState12=_slicedToArray(_useState11,2),age=_useState12[0],setAge=_useState12[1];// const navigate = useNavigate()\nfunction handleDelete(){fetch(\"/user/\".concat(user.id),{method:\"DELETE\"}).then(function(){return onLogout();});}function handleLogout(){fetch(\"/logout\",{method:\"DELETE\"}).then(function(){return onLogout();});}function handleEdit(){setEdit(!edit);}function editUser(e){var Nuser={id:user.id,username:username,password:password,email:email,phone:phone,age:age};e.preventDefault();fetch(\"/user/\".concat(user.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(Nuser)}).then(function(r){if(r.ok){console.log('success');handleEdit();}else{console.log('failure');}});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"acct\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete Account\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.username,\"!\"]}),user.username===\"roberto\"?/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/mbg\",className:\"submit ui teal button\",style:linkStyles2,activeStyle:{background:\"white\"},children:\"Gym's info\"}):null]}),edit?/*#__PURE__*/_jsxs(\"form\",{class:\"ui form\",onSubmit:editUser,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"username\",children:\"Username \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",onChange:function onChange(e){return setUsername(e.target.value);},type:\"text\",name:\"username\",placeholder:user.username})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"E-mail \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},type:\"text\",name:\"email\",placeholder:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"phone\",children:\"Phone Number \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",onChange:function onChange(e){return setPhone(e.target.value);},type:\"text\",name:\"phone\",placeholder:user.phone})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"age\",children:\"Age \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"age\",onChange:function onChange(e){return setAge(e.target.value);},type:\"number\",min:\"5\",name:\"age\",placeholder:user.age})]}),/*#__PURE__*/_jsx(\"button\",{class:\"fluid ui button\",type:\"submit\",children:\"Submit\"})]}):null,/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"cftlogo\"})})]})});}export default Logout;","map":{"version":3,"names":["React","useState","NavLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","linkStyles2","display","height","width","margin","background","textDecoration","color","textAlign","fontSize","Logout","_ref","onLogout","user","_useState","_useState2","_slicedToArray","edit","setEdit","_useState3","username","_useState4","setUsername","_useState5","password","_useState6","setPassword","_useState7","email","_useState8","setEmail","_useState9","phone","_useState10","setPhone","_useState11","age","_useState12","setAge","handleDelete","fetch","concat","id","method","then","handleLogout","handleEdit","editUser","e","Nuser","preventDefault","headers","body","JSON","stringify","r","ok","console","log","children","className","onClick","exact","to","style","activeStyle","class","onSubmit","for","onChange","target","value","type","name","placeholder","min"],"sources":["/Users/peggyduggan/Development/code/phase-5/Project5-Project-cft/src/Logout.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n// import {useNavigate} from 'react-router-dom'\nimport { NavLink } from \"react-router-dom\";\n\n\n\n\nconst linkStyles2 = {\n    display: \"inline-block\",\n    height: \"50px\",\n    width: \"200px\",\n    // padding: \"5px\",\n    margin: \"3px 6px 2px\",\n    background: \"red\",\n    textDecoration: \"none\",\n    color: \"WHITE\",\n    textAlign:\"center\",\n    fontSize: \"30px\"\n    \n  };\n\n\nfunction Logout({ onLogout, user }) {\n\n  const [edit, setEdit] = useState(false)\n\n  const [username, setUsername] = useState(user.username)\n  const [password, setPassword] = useState(user.password)\n  const [email, setEmail] = useState(user.email)\n  const [phone, setPhone] = useState(user.phone)\n  const [age, setAge] = useState(user.age)\n  // const navigate = useNavigate()\n\n  function handleDelete() {\n    fetch(`/user/${user.id}`, {\n      method: \"DELETE\",\n    }).then(() => onLogout());\n  }\n\n\n  function handleLogout() {\n    fetch(\"/logout\", {\n      method: \"DELETE\",\n    }).then(() => onLogout());\n  }\n  function handleEdit() {\n    setEdit(!edit)\n  }\n  \n  function editUser(e) {\n    const Nuser = {\n      id: user.id,\n      username: username,\n      password: password,\n      email: email,\n      phone: phone,\n      age: age\n    }\n    e.preventDefault()\n    fetch(`/user/${user.id}`, {\n      method: \"PATCH\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify(Nuser)})\n      .then(r => {\n        if (r.ok){\n          console.log('success')\n          handleEdit()\n        } else {\n          console.log('failure')\n        }\n      })\n  }\n  \n  return (\n    <>\n    <div className=\"acct\">\n      <header>\n      \n          <div>\n          \n            {/* <h1>CFT Header</h1> */}\n          </div>\n\n        \n        \n        <button onClick={handleEdit}>Edit</button>\n        <button onClick={handleLogout}>Logout</button>\n        <button onClick={handleDelete}>Delete Account</button>\n        <br></br>\n        <h2>Welcome, {user.username}!</h2>\n        {user.username === \"roberto\" ? <NavLink\n                        exact to=\"/mbg\"\n                        className=\"submit ui teal button\"\n                        style={linkStyles2}\n                        activeStyle={{\n                            background: \"white\",}}\n                        \n                    >\n                        Gym's info \n                    </NavLink>\n:null}\n      </header>\n  \n      {edit ?\n        <form  class='ui form' onSubmit={editUser}>\n          <div class='field'>\n            <label for=\"username\">Username </label><br></br>\n            <input id=\"username\" onChange={(e) => setUsername(e.target.value)} type=\"text\" name=\"username\" placeholder={user.username} />\n          </div>\n          {/* <div class='field'>\n            <input onChange={(e) => setPassword(e.target.value)} type=\"text\" name=\"password\" placeholder={user._password_hash} />\n          </div> */}\n          <div class='field'>\n          <label for=\"email\">E-mail </label><br></br>\n            <input id=\"email\" onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" placeholder={user.email} />\n          </div>\n          <div class='field'>\n          <label for=\"phone\">Phone Number </label><br></br>\n            <input id=\"phone\" onChange={(e) => setPhone(e.target.value)} type=\"text\" name=\"phone\" placeholder={user.phone} />\n          </div>\n          <div class='field'>\n          <label for=\"age\">Age </label><br></br>\n            <input id=\"age\" onChange={(e) => setAge(e.target.value)} type=\"number\" min=\"5\" name=\"age\" placeholder={user.age} />\n          </div>\n          <button class='fluid ui button' type=\"submit\">Submit</button>\n        </form>\n      : null}\n      <center>\n            <div className=\"cftlogo\" ></div>\n            </center>\n      </div>\n      \n    </>\n  );\n}\nexport default Logout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}