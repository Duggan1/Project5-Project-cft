{"ast":null,"code":"import _slicedToArray from\"/Users/peggyduggan/Development/code/phase-5/Project5-Project-cft/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var sessionUser=[];function Login(_ref){var onLogin=_ref.onLogin;var navigate=useNavigate();// const [session, setSession] = useState(false)\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),_password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isIncorrect=_useState6[0],setIsIncorrect=_useState6[1];var toggleIncorrect=function toggleIncorrect(){setIsIncorrect(!isIncorrect);};function handleSubmit(e){e.preventDefault();fetch(\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,_password:_password})}).then(function(r){if(r.ok){r.json().then(function(user){console.log(user);onLogin(user);navigate('/');});}else{toggleIncorrect();}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"acct\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,placeholder:\"Enter Username here \",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\"// value={password}\n,placeholder:\"Enter Password here \",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),isIncorrect?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Username or Password Invalid, Please Try Again!\"})}):null]}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"cftlogo\"})})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","sessionUser","Login","_ref","onLogin","navigate","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","_password","setPassword","_useState5","_useState6","isIncorrect","setIsIncorrect","toggleIncorrect","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","ok","json","user","console","log","className","children","onSubmit","type","value","placeholder","onChange","target"],"sources":["/Users/peggyduggan/Development/code/phase-5/Project5-Project-cft/src/Login.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport {useNavigate} from 'react-router-dom'\n\n\nconst sessionUser = []\n\nfunction Login({ onLogin }) {\n    const navigate = useNavigate()\n    // const [session, setSession] = useState(false)\n    const [username, setUsername] = useState(\"\")\n    const [_password, setPassword] = useState(\"\")\n    const [isIncorrect, setIsIncorrect] = useState(false)\n\n    const toggleIncorrect =()=>{\n        setIsIncorrect(!isIncorrect)\n    }\n  \n    function handleSubmit(e) {\n        e.preventDefault();\n        fetch(\"/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ username, _password }),\n        }).then((r) => {\n            if (r.ok) {\n                r.json().then((user) => {\n                    console.log(user)\n                    onLogin(user)\n                    navigate('/') })\n\n                \n            }\n            else {\n                toggleIncorrect()\n            }\n        });\n    }\n    return (\n        <div className=\"acct\">\n                    \n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={username}\n          placeholder=\"Enter Username here \"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <br></br>\n        <input\n        type=\"password\"\n        // value={password}\n        placeholder=\"Enter Password here \"\n        onChange={(e) => setPassword(e.target.value)}\n      /><br></br>\n        <button type=\"submit\">Login</button>\n        {isIncorrect ? <div>\n            <h2>Username or Password Invalid, Please Try Again!</h2>\n        </div>: null}\n      </form>\n      <center>\n            <div className=\"cftlogo\" ></div>\n            </center>\n      </div>\n    );\n  }\n  export default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}